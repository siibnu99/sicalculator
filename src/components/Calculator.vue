<template>
  <div
    class=" bg-blue-600 dark:bg-gray-700 h-full w-full flex  flex-col relative"
  >
    <div class="absolute top-0 p-5 flex justify-between items-center w-full ">
      <div class=" h-10 w-10">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          width="49.454"
          height="37.788"
          viewBox="0 0 49.454 37.788"
        >
          <defs>
            <linearGradient
              id="linear-gradient"
              x1="0.5"
              x2="0.5"
              y2="1"
              gradientUnits="objectBoundingBox"
            >
              <stop offset="0" stop-color="#fff" />
              <stop offset="1" stop-color="#fff" />
            </linearGradient>
            <filter
              id="Path_69"
              x="0"
              y="0"
              width="49.454"
              height="29.536"
              filterUnits="userSpaceOnUse"
            >
              <feOffset dx="2" dy="2" input="SourceAlpha" />
              <feGaussianBlur stdDeviation="1" result="blur" />
              <feFlood flood-opacity="0.161" />
              <feComposite operator="in" in2="blur" />
              <feComposite in="SourceGraphic" />
            </filter>
            <filter
              id="Path_70"
              x="0"
              y="14.278"
              width="49.454"
              height="20.597"
              filterUnits="userSpaceOnUse"
            >
              <feOffset dx="2" dy="2" input="SourceAlpha" />
              <feGaussianBlur stdDeviation="1" result="blur-2" />
              <feFlood flood-opacity="0.161" />
              <feComposite operator="in" in2="blur-2" />
              <feComposite in="SourceGraphic" />
            </filter>
            <filter
              id="Path_71"
              x="0"
              y="22.987"
              width="49.454"
              height="14.802"
              filterUnits="userSpaceOnUse"
            >
              <feOffset dx="2" dy="2" input="SourceAlpha" />
              <feGaussianBlur stdDeviation="1" result="blur-3" />
              <feFlood flood-opacity="0.161" />
              <feComposite operator="in" in2="blur-3" />
              <feComposite in="SourceGraphic" />
            </filter>
          </defs>
          <g
            id="Group_30"
            data-name="Group 30"
            transform="translate(-14.49 -2.324)"
          >
            <g
              transform="matrix(1, 0, 0, 1, 14.49, 2.32)"
              filter="url(#Path_69)"
            >
              <path
                id="Path_69-2"
                data-name="Path 69"
                d="M1036.364,353.494c-5.6,6.6,1.8-12.8,16.194-13.595s22.192-5.2,23.791-8.2,3.8,12.8-3.6,14.395S1041.962,346.9,1036.364,353.494Z"
                transform="translate(-1033.49 -330.32)"
                fill="url(#linear-gradient)"
              />
            </g>
            <g
              transform="matrix(1, 0, 0, 1, 14.49, 2.32)"
              filter="url(#Path_70)"
            >
              <path
                id="Path_70-2"
                data-name="Path 70"
                d="M1036.364,345.073c-5.6,4.092,1.8-7.935,16.194-8.431s22.192-3.224,23.791-5.084,3.8,7.935-3.6,8.927S1041.962,340.982,1036.364,345.073Z"
                transform="translate(-1033.49 -316.05)"
                fill="url(#linear-gradient)"
              />
            </g>
            <g
              transform="matrix(1, 0, 0, 1, 14.49, 2.32)"
              filter="url(#Path_71)"
            >
              <path
                id="Path_71-2"
                data-name="Path 71"
                d="M1036.364,339.615c-5.6,2.467,1.8-4.785,16.194-5.084s22.192-1.944,23.791-3.065,3.8,4.785-3.6,5.383S1041.962,337.148,1036.364,339.615Z"
                transform="translate(-1033.49 -307.34)"
                fill="url(#linear-gradient)"
              />
            </g>
          </g>
        </svg>
      </div>
      <div class=" flex space-x-2 z-50">
        <div
          class=" p-2 bg-white dark:bg-gray-500 dark:text-white rounded-lg cursor-pointer"
          @click="light"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            width="24.151"
            height="24.151"
            viewBox="0 0 24.151 24.151"
          >
            <defs>
              <filter
                id="Path_4"
                x="5.26"
                y="5.26"
                width="13.632"
                height="13.632"
                filterUnits="userSpaceOnUse"
              >
                <feOffset dx="1" dy="1" input="SourceAlpha" />
                <feGaussianBlur stdDeviation="0.5" result="blur" />
                <feFlood flood-opacity="0.259" />
                <feComposite operator="in" in2="blur" />
                <feComposite in="SourceGraphic" />
              </filter>
              <filter
                id="Path_5"
                x="17.542"
                y="9.848"
                width="6.609"
                height="4.455"
                filterUnits="userSpaceOnUse"
              >
                <feOffset dx="1" dy="1" input="SourceAlpha" />
                <feGaussianBlur stdDeviation="0.5" result="blur-2" />
                <feFlood flood-opacity="0.259" />
                <feComposite operator="in" in2="blur-2" />
                <feComposite in="SourceGraphic" />
              </filter>
              <filter
                id="Path_6"
                x="9.848"
                y="17.542"
                width="4.455"
                height="6.609"
                filterUnits="userSpaceOnUse"
              >
                <feOffset dx="1" dy="1" input="SourceAlpha" />
                <feGaussianBlur stdDeviation="0.5" result="blur-3" />
                <feFlood flood-opacity="0.259" />
                <feComposite operator="in" in2="blur-3" />
                <feComposite in="SourceGraphic" />
              </filter>
              <filter
                id="Path_7"
                x="15.29"
                y="15.29"
                width="5.966"
                height="5.966"
                filterUnits="userSpaceOnUse"
              >
                <feOffset dx="1" dy="1" input="SourceAlpha" />
                <feGaussianBlur stdDeviation="0.5" result="blur-4" />
                <feFlood flood-opacity="0.259" />
                <feComposite operator="in" in2="blur-4" />
                <feComposite in="SourceGraphic" />
              </filter>
              <filter
                id="Path_8"
                x="9.848"
                y="0"
                width="4.455"
                height="6.609"
                filterUnits="userSpaceOnUse"
              >
                <feOffset dx="1" dy="1" input="SourceAlpha" />
                <feGaussianBlur stdDeviation="0.5" result="blur-5" />
                <feFlood flood-opacity="0.259" />
                <feComposite operator="in" in2="blur-5" />
                <feComposite in="SourceGraphic" />
              </filter>
              <filter
                id="Path_9"
                x="15.318"
                y="2.896"
                width="5.966"
                height="5.966"
                filterUnits="userSpaceOnUse"
              >
                <feOffset dx="1" dy="1" input="SourceAlpha" />
                <feGaussianBlur stdDeviation="0.5" result="blur-6" />
                <feFlood flood-opacity="0.259" />
                <feComposite operator="in" in2="blur-6" />
                <feComposite in="SourceGraphic" />
              </filter>
              <filter
                id="Path_10"
                x="0"
                y="9.848"
                width="6.609"
                height="4.455"
                filterUnits="userSpaceOnUse"
              >
                <feOffset dx="1" dy="1" input="SourceAlpha" />
                <feGaussianBlur stdDeviation="0.5" result="blur-7" />
                <feFlood flood-opacity="0.259" />
                <feComposite operator="in" in2="blur-7" />
                <feComposite in="SourceGraphic" />
              </filter>
              <filter
                id="Path_11"
                x="2.868"
                y="15.29"
                width="5.966"
                height="5.966"
                filterUnits="userSpaceOnUse"
              >
                <feOffset dx="1" dy="1" input="SourceAlpha" />
                <feGaussianBlur stdDeviation="0.5" result="blur-8" />
                <feFlood flood-opacity="0.259" />
                <feComposite operator="in" in2="blur-8" />
                <feComposite in="SourceGraphic" />
              </filter>
              <filter
                id="Path_12"
                x="2.868"
                y="2.896"
                width="5.966"
                height="5.966"
                filterUnits="userSpaceOnUse"
              >
                <feOffset dx="1" dy="1" input="SourceAlpha" />
                <feGaussianBlur stdDeviation="0.5" result="blur-9" />
                <feFlood flood-opacity="0.259" />
                <feComposite operator="in" in2="blur-9" />
                <feComposite in="SourceGraphic" />
              </filter>
            </defs>
            <g
              id="Group_29"
              data-name="Group 29"
              transform="translate(-150.5 -21.5)"
            >
              <g
                transform="matrix(1, 0, 0, 1, 150.5, 21.5)"
                filter="url(#Path_4)"
              >
                <path
                  id="Path_4-2"
                  data-name="Path 4"
                  d="M84.265,76.767A5.334,5.334,0,0,0,80.516,75.2a5.218,5.218,0,0,0-3.749,1.567,5.316,5.316,0,0,0,3.749,9.065,5.218,5.218,0,0,0,3.749-1.567,5.334,5.334,0,0,0,1.567-3.749A5.218,5.218,0,0,0,84.265,76.767Zm-1.007,6.491a3.918,3.918,0,1,1,1.119-2.742A3.87,3.87,0,0,1,83.258,83.258Z"
                  transform="translate(-69.44 -69.44)"
                  fill="currentColor"
                />
              </g>
              <g
                transform="matrix(1, 0, 0, 1, 150.5, 21.5)"
                filter="url(#Path_5)"
              >
                <path
                  id="Path_5-2"
                  data-name="Path 5"
                  d="M253.682,140.8h-2.154a.727.727,0,0,0,0,1.455h2.154a.727.727,0,0,0,0-1.455Z"
                  transform="translate(-232.76 -130.45)"
                  fill="currentColor"
                />
              </g>
              <g
                transform="matrix(1, 0, 0, 1, 150.5, 21.5)"
                filter="url(#Path_6)"
              >
                <path
                  id="Path_6-2"
                  data-name="Path 6"
                  d="M141.527,250.8a.741.741,0,0,0-.727.727v2.154a.727.727,0,0,0,1.455,0v-2.154A.741.741,0,0,0,141.527,250.8Z"
                  transform="translate(-130.45 -232.76)"
                  fill="currentColor"
                />
              </g>
              <g
                transform="matrix(1, 0, 0, 1, 150.5, 21.5)"
                filter="url(#Path_7)"
              >
                <path
                  id="Path_7-2"
                  data-name="Path 7"
                  d="M221.356,220.349l-1.539-1.539a.712.712,0,0,0-1.007,1.007l1.539,1.539a.712.712,0,0,0,1.007-1.007Z"
                  transform="translate(-202.81 -202.81)"
                  fill="currentColor"
                />
              </g>
              <g
                transform="matrix(1, 0, 0, 1, 150.5, 21.5)"
                filter="url(#Path_8)"
              >
                <path
                  id="Path_8-2"
                  data-name="Path 8"
                  d="M141.527,0a.741.741,0,0,0-.727.727V2.882a.727.727,0,0,0,1.455,0V.727A.741.741,0,0,0,141.527,0Z"
                  transform="translate(-130.45 0.5)"
                  fill="currentColor"
                />
              </g>
              <g
                transform="matrix(1, 0, 0, 1, 150.5, 21.5)"
                filter="url(#Path_9)"
              >
                <path
                  id="Path_9-2"
                  data-name="Path 9"
                  d="M221.756,41.61a.709.709,0,0,0-1.007,0l-1.539,1.539a.712.712,0,0,0,1.007,1.007l1.539-1.539A.709.709,0,0,0,221.756,41.61Z"
                  transform="translate(-203.18 -38)"
                  fill="currentColor"
                />
              </g>
              <g
                transform="matrix(1, 0, 0, 1, 150.5, 21.5)"
                filter="url(#Path_10)"
              >
                <path
                  id="Path_10-2"
                  data-name="Path 10"
                  d="M2.882,140.8H.727a.741.741,0,0,0-.727.727.722.722,0,0,0,.727.727H2.882a.727.727,0,0,0,0-1.455Z"
                  transform="translate(0.5 -130.45)"
                  fill="currentColor"
                />
              </g>
              <g
                transform="matrix(1, 0, 0, 1, 150.5, 21.5)"
                filter="url(#Path_11)"
              >
                <path
                  id="Path_11-2"
                  data-name="Path 11"
                  d="M43.756,218.81a.709.709,0,0,0-1.007,0l-1.539,1.539a.712.712,0,0,0,1.007,1.007l1.539-1.539A.709.709,0,0,0,43.756,218.81Z"
                  transform="translate(-37.63 -202.81)"
                  fill="currentColor"
                />
              </g>
              <g
                transform="matrix(1, 0, 0, 1, 150.5, 21.5)"
                filter="url(#Path_12)"
              >
                <path
                  id="Path_12-2"
                  data-name="Path 12"
                  d="M43.756,43.149,42.217,41.61a.712.712,0,0,0-1.007,1.007l1.539,1.539a.712.712,0,0,0,1.007-1.007Z"
                  transform="translate(-37.63 -38)"
                  fill="currentColor"
                />
              </g>
            </g>
          </svg>
        </div>
        <div
          class=" p-2 bg-gray-500 text-white dark:bg-white dark:text-black rounded-lg cursor-pointer"
          @click="dark"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            width="21.813"
            height="21.816"
            viewBox="0 0 21.813 21.816"
          >
            <defs>
              <filter
                id="Path_13"
                x="0"
                y="0"
                width="21.813"
                height="21.816"
                filterUnits="userSpaceOnUse"
              >
                <feOffset dx="1" dy="1" input="SourceAlpha" />
                <feGaussianBlur stdDeviation="0.5" result="blur" />
                <feFlood flood-opacity="0.2" />
                <feComposite operator="in" in2="blur" />
                <feComposite in="SourceGraphic" />
              </filter>
            </defs>
            <g
              id="Group_28"
              data-name="Group 28"
              transform="translate(-204 -22.499)"
            >
              <g
                transform="matrix(1, 0, 0, 1, 204, 22.5)"
                filter="url(#Path_13)"
              >
                <path
                  id="Path_13-2"
                  data-name="Path 13"
                  d="M16.661,11.7a8.212,8.212,0,0,1-3.422.737A8.331,8.331,0,0,1,4.916,4.115,8.212,8.212,0,0,1,5.653.693L5.969,0,5.275.312A8.9,8.9,0,1,0,17.041,12.078l.312-.694Zm-3.637,3.968A8.322,8.322,0,1,1,4.842,1.174a8.8,8.8,0,0,0-.5,2.941,8.906,8.906,0,0,0,8.9,8.9,8.8,8.8,0,0,0,2.941-.5A8.322,8.322,0,0,1,13.024,15.668Z"
                  transform="translate(0.96 1.5)"
                  fill="currentColor"
                  stroke="currentColor"
                  stroke-width="1"
                />
              </g>
            </g>
          </svg>
        </div>
      </div>
      <div class=""></div>
    </div>
    <div class="overlay"></div>
    <div class=" text-right h-1/3 relative w-11/12 text-3xl text-white">
      <div class=" absolute bottom-0 right-0">
        <div class=" font-medium">{{ state.val }}</div>
        <div class="font-bold">
          {{ state.total }}
        </div>
      </div>
    </div>
    <div
      class="w-full bg-white  h-2/3 rounded-t-3xl flex p-5 justify-center items-center text-center z-20 font-extrabold absolute bottom-0 dark:bg-gray-700 dark:text-white"
    >
      <div class=" flex flex-col h-full w-full justify-center items-cente ">
        <div
          class="w-full h-full justify-center items-center cursor-pointer text-blue-500 flex"
          @click="getTotal()"
        >
          CE
        </div>
        <div
          class="w-full h-full justify-center items-center cursor-pointer flex"
          @click="getTotal(7)"
        >
          7
        </div>
        <div
          class="w-full h-full justify-center items-center cursor-pointer flex"
          @click="getTotal(4)"
        >
          4
        </div>
        <div
          class="w-full h-full justify-center items-center cursor-pointer flex"
          @click="getTotal(1)"
        >
          1
        </div>
        <div
          class="w-full h-full justify-center items-center cursor-pointer flex text-yellow-400"
        >
          Coming <br />
          Soon
        </div>
      </div>
      <div class=" flex flex-col h-full w-full justify-center items-center">
        <div
          class="w-full h-full justify-center items-center cursor-pointer flex text-blue-500"
          @click="getTotal('backspace')"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="22.997"
            height="17.248"
            viewBox="0 0 22.997 17.248"
          >
            <g id="Group_5" data-name="Group 5" transform="translate(0 -64)">
              <g id="Group_4" data-name="Group 4" transform="translate(0 64)">
                <g id="Group_3" data-name="Group 3" transform="translate(0 0)">
                  <path
                    id="Path_2"
                    data-name="Path 2"
                    d="M22.039,64H5.977a.958.958,0,0,0-.8.433L.156,72.1a.958.958,0,0,0,0,1.05l5.019,7.666a.958.958,0,0,0,.8.433H22.039A.958.958,0,0,0,23,80.29V64.958A.958.958,0,0,0,22.039,64Zm-.958,15.332H6.5L2.1,72.624,6.5,65.916H21.081V79.332Z"
                    transform="translate(0 -64)"
                    fill="currentColor"
                  />
                  <path
                    id="Path_3"
                    data-name="Path 3"
                    d="M192.278,158.635a.958.958,0,0,0,1.355,0l3.155-3.155,3.155,3.155a.958.958,0,1,0,1.355-1.355l-3.155-3.155,3.155-3.155a.958.958,0,1,0-1.355-1.355l-3.155,3.155-3.155-3.155a.958.958,0,1,0-1.355,1.355l3.155,3.155-3.155,3.155A.958.958,0,0,0,192.278,158.635Z"
                    transform="translate(-183.374 -145.501)"
                    fill="currentColor"
                  />
                </g>
              </g>
            </g>
          </svg>
        </div>
        <div
          class="w-full h-full justify-center items-center cursor-pointer flex"
          @click="getTotal(8)"
        >
          8
        </div>
        <div
          class="w-full h-full justify-center items-center cursor-pointer flex"
          @click="getTotal(5)"
        >
          5
        </div>
        <div
          class="w-full h-full justify-center items-center cursor-pointer flex"
          @click="getTotal(2)"
        >
          2
        </div>
        <div
          class="w-full h-full justify-center items-center cursor-pointer flex"
          @click="getTotal('0')"
        >
          0
        </div>
      </div>
      <div class=" flex flex-col h-full w-full justify-center items-center">
        <div
          class="w-full h-full justify-center items-center cursor-pointer flex text-blue-500"
          @click="getTotal('%')"
        >
          %
        </div>
        <div
          class="w-full h-full justify-center items-center cursor-pointer flex"
          @click="getTotal(9)"
        >
          9
        </div>
        <div
          class="w-full h-full justify-center items-center cursor-pointer flex"
          @click="getTotal(6)"
        >
          6
        </div>
        <div
          class="w-full h-full justify-center items-center cursor-pointer flex"
          @click="getTotal(3)"
        >
          3
        </div>
        <div
          class="w-full h-full justify-center items-center cursor-pointer flex"
          @click="getTotal('.')"
        >
          .
        </div>
      </div>
      <div class=" flex flex-col h-full w-full justify-center items-center">
        <div
          class="w-full h-full justify-center items-center cursor-pointer flex text-red-500"
          @click="getTotal('/')"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="21.053"
            height="18.641"
            viewBox="0 0 21.053 18.641"
          >
            <g
              id="Group_2"
              data-name="Group 2"
              transform="translate(-312.5 -267.18)"
            >
              <circle
                id="Ellipse_1"
                data-name="Ellipse 1"
                cx="3.175"
                cy="3.175"
                r="3.175"
                transform="translate(320 279.469)"
                fill="currentColor"
              />
              <circle
                id="Ellipse_2"
                data-name="Ellipse 2"
                cx="3.175"
                cy="3.175"
                r="3.175"
                transform="translate(320 267.18)"
                fill="currentColor"
              />
              <line
                id="Line_1"
                data-name="Line 1"
                x2="19.053"
                transform="translate(313.5 276.5)"
                fill="none"
                stroke="currentColor"
                stroke-linecap="round"
                stroke-width="2"
              />
            </g>
          </svg>
        </div>
        <div
          class="w-full h-full justify-center items-center cursor-pointer flex text-red-500"
          @click="getTotal('*')"
        >
          *
        </div>
        <div
          class="w-full h-full justify-center items-center cursor-pointer flex text-red-500"
          @click="getTotal('-')"
        >
          -
        </div>
        <div
          class="w-full h-full justify-center items-center cursor-pointer flex text-red-500"
          @click="getTotal('+')"
        >
          +
        </div>
        <div
          class="w-full h-full justify-center items-center cursor-pointer flex text-red-500"
          @click="getTotal('=')"
        >
          =
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import { reactive } from "vue";
export default {
  setup() {
    const state = reactive({
      val: "",
      total: " ",
    });
    function dark() {
      localStorage.theme = "dark";
      document.querySelector("html").classList.remove("light");
      document.querySelector("html").classList.add("dark");
    }
    function light() {
      localStorage.theme = "light";
      document.querySelector("html").classList.remove("dark");
      document.querySelector("html").classList.add("light");
    }
    function format(val) {
      val.split;
    }
    function getTotal(val = null) {
      if (!val) {
        state.val = "";
        state.total = "";
      } else if (val == "backspace") {
        state.val = state.val.substring(0, state.val.length - 1);
        state.total = eval(state.val);
      } else if (state.val.substring(state.val.length - 1) == "%") {
        return 0;
      } else if (val == "%") {
        state.val += val;
        let value = state.val.substring(0, state.val.length - 1);
        state.total = eval(value) / 100;
      } else if (state.val.substring(state.val.length - 1) == "=") {
        return 0;
      } else {
        const symbol = ["+", "-", "*", "/", "="];
        let same = false;
        symbol.forEach((e) => {
          if (val == e) {
            console.log();
            symbol.forEach((el) => {
              if (state.val.substring(state.val.length - 1) == el) {
                state.val = state.val.substring(0, state.val.length - 1);
                state.val += val;
                state.total = eval(state.val);
                same = true;
              }
            });
          }
        });
        if (same) {
          return 0;
        } else {
          state.val += val;
          state.total = eval(state.val);
          console.log("ss");
        }
      }
    }
    return { state, dark, light, getTotal };
  },
};
</script>

<style></style>
